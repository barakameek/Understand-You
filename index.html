<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Persona Map MVP - Element Focus</title>
    <link rel="stylesheet" href="style.css">
    <!-- Vis.js Network CSS -->
    <link href="https://unpkg.com/vis-network/styles/vis-network.min.css" rel="stylesheet" type="text/css" />
</head>
<body>
    <div class="app-container">

        <!-- === Welcome Screen (No Change) === -->
        <div id="welcomeScreen" class="screen current">
            <h1>Welcome to Persona Map</h1>
            <p>Explore your unique sexual persona through a short questionnaire.</p>
            <p>(Element-Focused Exploration Demo)</p>
            <button id="startButton" class="button">Start Questionnaire</button>
        </div>

        <!-- === Questionnaire Screen (No Change) === -->
        <div id="questionnaireScreen" class="screen hidden">
             <header>
                 <p id="progressText">Question 1 / X</p>
             </header>
             <main id="questionContent">
                 <!-- Question will be loaded here by JS -->
             </main>
             <footer>
                 <button id="nextQButton" class="button next-button">Next</button>
             </footer>
        </div>

        <!-- === Profile & Map Screen (COMBINED for Simplicity) === -->
        <div id="profileAndMapScreen" class="screen hidden">
            <div class="profile-map-container">
                <!-- Profile Display Area -->
                <div class="profile-display">
                    <h2>Your Persona Profile</h2>
                    <p>Click element names to highlight related concepts:</p>
                    <div id="profileScores">
                        <!-- Scores & Clickable Elements Loaded Here -->
                    </div>
                    <button id="restartButton" class="button back-button small-button">Start Over</button>
                </div>

                <!-- Map Display Area -->
                <div class="map-display">
                    <h2>Your Persona Constellation</h2>
                    <p>Click concept nodes to see their profile. Zoom/Pan enabled.</p>
                    <div id="network"></div>
                </div>
            </div>
            <!-- Concept Detail Pop-up Area (Initially Hidden) -->
            <div id="conceptDetailPopup" class="popup hidden">
                <button id="closePopupButton" class="close-button">Ã—</button>
                <h3 id="popupConceptName">Concept Name</h3>
                <p id="popupConceptType">Concept Type</p>
                <div id="popupConceptProfile">
                    <!-- Concept's Element Scores Loaded Here -->
                </div>
            </div>
             <div id="popupOverlay" class="overlay hidden"></div>
        </div>

    </div>

    <!-- Vis.js Network JS -->
    <script type="text/javascript" src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    <!-- Data File -->
    <script src="data.js"></script>
    <!-- Main Application Logic -->
    <script src="script.js"></script>
</body>
</html>
