<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Persona Map MVP - Territories</title>
    <link rel="stylesheet" href="style.css">
    <!-- Vis.js Network CSS -->
    <link href="https://unpkg.com/vis-network/styles/vis-network.min.css" rel="stylesheet" type="text/css" />
</head>
<body>
    <div class="app-container">

        <!-- === Welcome Screen === -->
        <div id="welcomeScreen" class="screen current">
            <h1>Welcome to Persona Map</h1>
            <p>Define your core sexual elements and explore the landscape of desire.</p>
            <p>(Territory Exploration Demo)</p>
            <button id="startGuidedButton" class="button">Start Guided Exploration</button>
        </div>

        <!-- === Questionnaire Screen (Element Focused) === -->
        <div id="questionnaireScreen" class="screen hidden">
            <header>
                 <!-- Element Progress Header (Can be built dynamically) -->
                <div id="elementProgressHeader" class="element-progress-header">
                    <!-- Populated by JS -->
                </div>
                 <p id="progressText">Element 1 / 6: [Element Name]</p>
                <div id="dynamicScoreFeedback">
                    Current <span id="feedbackElement">Element</span> Score: <span id="feedbackScore">5.0</span>
                    <div class="score-bar-container"><div id="feedbackScoreBar" style="width: 50%;"></div></div>
                </div>
            </header>
            <main id="questionContent">
                <!-- Element Title, Explanation, and Questions Loaded Here -->
            </main>
            <footer>
                <button id="prevElementButton" class="button back-button hidden">Previous Element</button>
                <button id="nextElementButton" class="button next-button">Next Element / View Map</button>
            </footer>
        </div>

        <!-- === Main Exploration Screen (Profile + Map + Quests) === -->
        <div id="explorationScreen" class="screen hidden">
            <div class="main-layout-container">
                <!-- Left Panel: Profile & Quests -->
                <div class="left-panel">
                    <div class="profile-display">
                        <h2>Your Profile</h2>
                        <p class="interactive-hint">Click element names to highlight territory.</p>
                        <div id="profileScores">
                            <!-- Scores Loaded Here -->
                        </div>
                    </div>
                    <hr>
                    <div class="quest-panel">
                        <h2>Discovery Quests</h2>
                        <p>Start a guided exploration:</p>
                        <button class="button quest-button" data-quest="exploreSensory">Explore Sensory</button>
                        <button class="button quest-button" data-quest="exploreInteraction" disabled>Explore Interaction (Soon)</button>
                        </div>
                         <hr>
                         <button id="restartButton" class="button small-button back-button">Start Over</button>
                </div>

                <!-- Right Panel: Map Display -->
                <div class="map-display">
                    <h2>Persona Constellation</h2>
                    <p>Explore the territories. Click nodes/hubs to reveal connections.</p>
                    <div id="network"></div>
                </div>
            </div>
        </div>

    </div>

    <!-- Vis.js Network JS -->
    <script type="text/javascript" src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    <!-- Data File -->
    <script src="data.js"></script>
    <!-- Main Application Logic -->
    <script src="script.js"></script>
</body>
</html>
